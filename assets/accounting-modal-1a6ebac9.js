const r=new Date(2024,7,5);let u={day:5,month:7,year:2024};const S=["1","3","4"];function y(){const t=r.getMonth(),n=r.getFullYear(),d=new Date(2024,7,5),o=document.querySelector(".current-month"),a=document.querySelector(".calendar-days");o.innerHTML=`<span class="month-number">${t+1}</span><span class="month-text ms-1">æœˆ</span>`,a.innerHTML="";const c=new Date(n,t,1).getDay(),i=new Date(n,t+1,0).getDate(),v=42,m=new Date(n,t,0).getDate(),g=c===0?0:c,L=m-g+1;for(let e=L;e<=m;e++)a.innerHTML+=`<div class="day prev-month">${e}</div>`;for(let e=1;e<=i;e++){e===d.getDate()&&t===d.getMonth()&&d.getFullYear();const l=e===u.day&&t===u.month&&n===u.year,s=S.includes(e.toString())&&t===7;a.innerHTML+=`
      <div class="day ${l?"active selected":""} ${s?"fw-bolder":""}" data-day="${e}"> ${e}
      </div>`}const E=v-(g+i);for(let e=1;e<=E;e++)a.innerHTML+=`<div class="day next-month">${e}</div>`;document.querySelectorAll(".day").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll(".day").forEach(e=>{e.addEventListener("click",l=>{const s=parseInt(l.target.getAttribute("data-day"));isNaN(s)||D(s,t,n)})})}function D(t,n,d){u={day:t,month:n,year:d};const o=document.getElementById("special-record-section"),a=document.getElementById("accounting-receipt-section"),c=document.getElementById("no-record-section");o.classList.add("d-none"),a.classList.add("d-none"),c.classList.add("d-none"),t===2&&n===7&&d===2024?c.classList.remove("d-none"):t===3&&n===7&&d===2024?o.classList.remove("d-none"):a.classList.remove("d-none"),y()}document.getElementById("prev-month").addEventListener("click",()=>{r.setMonth(r.getMonth()-1),y()});document.getElementById("next-month").addEventListener("click",()=>{r.setMonth(r.getMonth()+1),y()});y();document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("addCategoryCard"),n=document.getElementById("addSubCategoryCard"),d=document.getElementById("selectDateCard"),o=document.getElementById("periodSettingCard"),a=document.getElementById("remarksCard"),c=document.getElementById("closeAddCategoryCard"),i=document.getElementById("closeAddSubCategoryCard"),v=document.getElementById("closeSelectDateCard"),m=document.getElementById("closePeriodSettingCard"),g=document.getElementById("closeRemarksCard"),L=document.getElementById("addCategoryModal"),E=document.getElementById("addSubCategoryModal"),e=document.getElementById("addSelectDateModal"),l=document.getElementById("periodSettingModal"),s=document.getElementById("remarksModal"),C=document.getElementById("cal-total-remark"),f=document.getElementById("addPeriodSettingBtn");L.addEventListener("click",function(){event.preventDefault(),t.classList.remove("d-none")}),E.addEventListener("click",function(){event.preventDefault(),n.classList.remove("d-none")}),e.addEventListener("click",function(){event.preventDefault(),d.classList.remove("d-none")}),l.addEventListener("click",function(){event.preventDefault(),o.classList.remove("d-none")}),s.addEventListener("click",function(){event.preventDefault(),a.classList.remove("d-none")}),c.addEventListener("click",function(){t.classList.add("d-none")}),i.addEventListener("click",function(){n.classList.add("d-none")}),v.addEventListener("click",function(){d.classList.add("d-none")}),m.addEventListener("click",function(){o.classList.add("d-none")}),g.addEventListener("click",function(){a.classList.add("d-none")}),document.getElementById("cancelAddCategory").addEventListener("click",function(){t.classList.add("d-none")}),document.getElementById("cancelAddSubCategory").addEventListener("click",function(){n.classList.add("d-none")}),document.getElementById("cancelPeriodSettingCard").addEventListener("click",function(){o.classList.add("d-none")}),f.addEventListener("click",function(){event.preventDefault(),o.classList.add("d-none"),C.classList.remove("d-none")})});
